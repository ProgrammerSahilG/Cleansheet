{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-lg-8 mx-auto text-center">
            <h1 class="display-4 mb-4">Simple, Transparent Pricing</h1>
            <p class="lead mb-5">Choose the plan that works best for your data cleaning needs</p>
        </div>
    </div>

    <div class="row">
        <!-- Free Plan -->
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header text-center py-4">
                    <h3 class="fw-bold">Free</h3>
                    <h2 class="display-4 fw-bold">$0</h2>
                    <p class="text-muted">forever</p>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-2">✓ 500 rows per file</li>
                        <li class="mb-2">✓ 5 files per month</li>
                        <li class="mb-2">✓ Basic cleaning features</li>
                        <li class="mb-2">✓ 7-day file retention</li>
                        <li class="mb-2">✗ Priority support</li>
                        <li class="mb-2">✗ Advanced transformations</li>
                    </ul>
                </div>
                <div class="card-footer bg-white">
                    {% if current_user.is_authenticated and current_user.plan == 'free' %}
                        <button class="btn btn-outline-primary w-100" disabled>Your Current Plan</button>
                    {% else %}
                        <a href="{{ url_for('auth.register') }}" class="btn btn-outline-primary w-100">Get Started</a>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Pro Plan -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 border-primary">
                <div class="card-header bg-primary text-white text-center py-4">
                    <h3 class="fw-bold">Pro</h3>
                    <h2 class="display-4 fw-bold text-white">$5</h2>
                    <p class="text-white-50">per month</p>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-2">✓ Unlimited rows per file</li>
                        <li class="mb-2">✓ Unlimited files</li>
                        <li class="mb-2">✓ All cleaning features</li>
                        <li class="mb-2">✓ 30-day file retention</li>
                        <li class="mb-2">✓ Priority support</li>
                        <li class="mb-2">✓ Advanced transformations</li>
                    </ul>
                </div>
                <div class="card-footer bg-white">
                    {% if current_user.is_authenticated and current_user.plan == 'pro' %}
                        <button class="btn btn-primary w-100" disabled>Your Current Plan</button>
                    {% else %}
                        <!-- Change this line in the Pro plan card -->
        <a href="{{ url_for('payment.upgrade') }}" class="btn btn-primary w-100">Upgrade Now</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Comparison Table -->
    <div class="row mt-5">
        <div class="col-lg-10 mx-auto">
            <h3 class="text-center mb-4">Feature Comparison</h3>
            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th class="text-center">Free</th>
                            <th class="text-center">Pro</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Max rows per file</td>
                            <td class="text-center">500</td>
                            <td class="text-center">Unlimited</td>
                        </tr>
                        <tr>
                            <td>Files per month</td>
                            <td class="text-center">5</td>
                            <td class="text-center">Unlimited</td>
                        </tr>
                        <tr>
                            <td>Duplicate removal</td>
                            <td class="text-center">✓</td>
                            <td class="text-center">✓</td>
                        </tr>
                        <tr>
                            <td>Whitespace trimming</td>
                            <td class="text-center">✓</td>
                            <td class="text-center">✓</td>
                        </tr>
                        <tr>
                            <td>Missing value handling</td>
                            <td class="text-center">✓</td>
                            <td class="text-center">✓</td>
                        </tr>
                        <tr>
                            <td>File retention</td>
                            <td class="text-center">7 days</td>
                            <td class="text-center">30 days</td>
                        </tr>
                        <tr>
                            <td>Priority support</td>
                            <td class="text-center">✗</td>
                            <td class="text-center">✓</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}